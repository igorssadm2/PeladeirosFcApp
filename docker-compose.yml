services:
  api:
    build:
      context: .
      dockerfile: PeladeirosfcApp/Dockerfile
    container_name: peladeirosfc-api
    user: "0"
    ports:
      - "5112:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_HTTP_PORTS=8080
      - ConnectionStrings__DefaultConnection=Data Source=/app/data/Peladeirosfc.db
    volumes:
      - api-data:/app/data

  view:
    build:
      context: .
      dockerfile: PeladeirosfcAppView/Dockerfile
    container_name: peladeirosfc-view
    ports:
      - "8080:80"
    environment:
      - API_BASE_URL=http://localhost:5112
    depends_on:
      - api

volumes:
  api-data:
