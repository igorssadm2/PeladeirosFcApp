@inject NavigationManager Navigation

<header class="fixed top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
            <a href="/" class="flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity">
                <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary shrink-0">
                    <svg class="h-4 w-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10" stroke-width="2"></circle>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6l4 2"></path>
                    </svg>
                </div>
                <span class="text-sm sm:text-base font-semibold text-foreground truncate">Peladeiros FC</span>
            </a>

            <AuthorizeView>
                <Authorized>
                    <div class="flex items-center gap-2">
                        <span class="hidden md:inline text-sm text-muted-foreground truncate max-w-[120px]">Olá, @context.User.Identity?.Name!</span>
                        <button @onclick="Logout" class="px-3 py-2 text-sm border border-border rounded-md hover:bg-secondary transition-colors whitespace-nowrap">
                            Sair
                        </button>
                    </div>
                </Authorized>
                <NotAuthorized>
                    <div class="flex items-center gap-2">
                        <a href="/login" class="px-3 py-2 text-sm text-foreground hover:text-primary transition-colors whitespace-nowrap">
                            Entrar
                        </a>
                        <a href="/signup" class="px-3 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors whitespace-nowrap">
                            Cadastrar
                        </a>
                    </div>
                </NotAuthorized>
            </AuthorizeView>
        </div>
    </div>
</header>

@code {
    [Inject] private CustomAuthenticationStateProvider? AuthStateProvider { get; set; }

    private void Logout()
    {
        AuthStateProvider?.MarkUserAsLoggedOut();
        Navigation.NavigateTo("/");
    }
}
